# Система покраски стен - Руководство пользователя

## Обзор

Система покраски стен позволяет пользователям в реальном времени изменять цвет стен в AR-приложении. Система включает в себя обнаружение стен, выбор цветов и интерактивный пользовательский интерфейс.

## Установка и настройка

### Быстрая настройка через редактор

1. Откройте меню **Remalux > Настройка покраски стен** в Unity.
2. Следуйте инструкциям в открывшемся окне:
   - **Шаг 1**: Настройте префабы (кнопка цвета и превью цвета)
   - **Шаг 2**: Настройте материалы (материал стены по умолчанию и материалы для покраски)
   - **Шаг 3**: Настройте ссылки на сцену (основная камера и Canvas)
   - **Шаг 4**: Настройте слой стен (создайте слой "Wall" для объектов стен)
3. Нажмите кнопку **"Настроить систему покраски стен"** для завершения настройки.

### Ручная настройка

Если вы предпочитаете настроить систему вручную, выполните следующие шаги:

1. **Создайте GameObject** с компонентом `SceneSetup`.
2. **Настройте префабы**:
   - Создайте префаб кнопки цвета с компонентом `SimpleColorButton`
   - Создайте префаб превью цвета с компонентом `SimpleColorPreview`
   - Назначьте эти префабы в компоненте `SceneSetup`
3. **Настройте материалы**:
   - Создайте материал по умолчанию для стен
   - Создайте материалы для покраски стен разными цветами
   - Назначьте эти материалы в компоненте `SceneSetup`
4. **Настройте ссылки на сцену**:
   - Назначьте основную камеру
   - Назначьте Canvas для UI
5. **Настройте слой стен**:
   - Создайте слой "Wall" в настройках проекта
   - Назначьте этот слой всем объектам стен в сцене

## Использование системы

После настройки системы покраски стен вы можете использовать ее следующим образом:

1. **Запустите сцену** в режиме Play.
2. **Выберите цвет** из палитры цветов в нижней части экрана.
3. **Нажмите на стену**, чтобы покрасить ее выбранным цветом.
4. **Нажмите кнопку "Сбросить"**, чтобы вернуть все стены к исходному цвету.

## Структура системы

Система покраски стен состоит из следующих основных компонентов:

- **SceneSetup**: Настраивает сцену и инициализирует все компоненты.
- **WallPainter**: Обрабатывает покраску стен и управляет материалами.
- **SimplePaintColorSelector**: Управляет выбором цвета и создает кнопки цветов.
- **SimpleColorButton**: Представляет кнопку выбора цвета.
- **SimpleColorPreview**: Отображает превью выбранного цвета на стене.
- **WallPaintingManager**: Координирует работу всех компонентов системы.

## Настройка параметров

Вы можете настроить следующие параметры системы:

### WallPainter
- **availablePaints**: Массив материалов для покраски стен.
- **defaultMaterial**: Материал стены по умолчанию.
- **wallLayerMask**: Маска слоя для обнаружения стен.
- **showColorPreview**: Включает/выключает предварительный просмотр цвета.

### SimplePaintColorSelector
- **paintMaterials**: Массив материалов для кнопок выбора цвета.
- **resetButton**: Кнопка для сброса всех стен к исходному цвету.

## Устранение неполадок

### Стены не обнаруживаются
- Убедитесь, что объекты стен находятся на слое "Wall".
- Проверьте, что у объектов стен есть компонент Collider.
- Убедитесь, что камера правильно настроена.

### Кнопки цветов не отображаются
- Проверьте, что Canvas настроен правильно.
- Убедитесь, что префаб кнопки цвета имеет компонент SimpleColorButton.
- Проверьте, что материалы для покраски правильно назначены.

### Цвета не применяются к стенам
- Убедитесь, что у объектов стен есть компонент Renderer.
- Проверьте, что материалы для покраски правильно настроены.
- Убедитесь, что WallPainter правильно инициализирован.

## Расширение функциональности

Вы можете расширить функциональность системы покраски стен следующими способами:

1. **Добавление новых материалов**: Создайте новые материалы и добавьте их в массив paintMaterials.
2. **Настройка текстур**: Используйте текстурированные материалы вместо простых цветов.
3. **Добавление эффектов**: Модифицируйте WallPainter для добавления эффектов при покраске.
4. **Сохранение состояния**: Добавьте функциональность для сохранения и загрузки состояния покраски стен.

## Поддержка

Если у вас возникли проблемы или вопросы по использованию системы покраски стен, обратитесь к документации или свяжитесь с нами по адресу support@remalux.com. 